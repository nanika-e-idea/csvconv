(window.webpackJsonp=window.webpackJsonp||[]).push([[9,4],{205:function(t,e,n){var content=n(211);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(115).default)("b4748cc0",content,!0,{sourceMap:!1})},206:function(t,e,n){var content=n(213);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(115).default)("004b471e",content,!0,{sourceMap:!1})},210:function(t,e,n){"use strict";n(205)},211:function(t,e,n){var l=n(114)(!1);l.push([t.i,".droparea,.file_up{display:flex;justify-content:center}.droparea{box-sizing:border-box;border:3px dashed #aaa;border-radius:30px;width:900px;height:400px;max-width:90%;max-height:50%;align-items:center;font-size:40px;font-weight:600;color:#aaa}.enter{background-color:#cef}",""]),t.exports=l},212:function(t,e,n){"use strict";n(206)},213:function(t,e,n){var l=n(114)(!1);l.push([t.i,".data_counter{width:100%;text-align:center}",""]),t.exports=l},223:function(t,e,n){var content=n(276);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(115).default)("1b7833da",content,!0,{sourceMap:!1})},227:function(t,e,n){"use strict";n.r(e);var l=n(214),r=(n(36),{data:function(){return{onDrag:!1,files:[],filename:null,datalength:null}},mounted:function(){},methods:{clickEvent:function(){},dragEnter:function(){this.onDrag=!0},dragLeave:function(){this.onDrag=!1},dropFile:function(t){this.onDrag=!1,this.files=Object(l.a)(t.dataTransfer.files),this.filename=this.files[0].name,console.log("[FileUp]file:"+this.filename),this.$emit("file-object",this.files)}}}),o=(n(210),n(34)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file_up"},[n("div",{staticClass:"droparea",class:{enter:this.onDrag},on:{dragenter:t.dragEnter,dragleave:t.dragLeave,dragover:function(t){t.preventDefault()},drop:function(e){return e.preventDefault(),e.stopPropagation(),t.dropFile.apply(null,arguments)}}},[t._v("\n    Step1.CSVファイルをここにドロップ\n  ")])])}),[],!1,null,null,null);e.default=component.exports},228:function(t,e,n){"use strict";n.r(e);var l={props:["fileinfo"]},r=(n(212),n(34)),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data_counter"},[n("p",[t._v("ファイル名： "+t._s(t.fileinfo.filename)+"  |  データ件数： "+t._s(t.fileinfo.datalength)+"件  |  重複削除後： "+t._s(t.fileinfo.corectedlength)+"件")])])}),[],!1,null,null,null);e.default=component.exports},275:function(t,e,n){"use strict";n(223)},276:function(t,e,n){var l=n(114)(!1);l.push([t.i,".file_dl{width:100%;text-align:center}.btn_dl{box-sizing:border-box;width:900px;height:50px;max-width:90%;border:none;border-radius:25px;background-color:#29a;font-size:20px;font-weight:600;color:#fff;filter:drop-shadow(2px 2px 1px rgba(0,0,0,.5))}",""]),t.exports=l},283:function(t,e,n){"use strict";n.r(e);n(229),n(17),n(231),n(237),n(239),n(240),n(241),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(265),n(266),n(267),n(47),n(159),n(44),n(27),n(65),n(36),n(30),n(160);var l=n(1).a.extend({data:function(){return{files:[],databody:"",fileinfo:{filename:"---",datalength:0,corectedlength:0},newdata:"",filestatus:"Empty"}},methods:{fileObject:function(t){this.files=t;var e=this.files[0],l=new FileReader,r=this;l.readAsArrayBuffer(e),l.onload=function(){var t=n(268),o=new Uint8Array(l.result),f=t.convert(o,{to:"UNICODE",from:"SJIS",type:"string"});r.databody=f;for(var c=r.databody.split(/\r\n|\r|\n/)[0].split("\t").length,d=Array.from(r.databody.replace(/\r\n|\r|\n/g,"\n")),h=[],v=[],x=!1,_="",i=0;i<d.length;i++)'"'==d[i]?x=0==x:"\t"!=d[i]&&"\n"!=d[i]||x?_+=d[i]:(v.push(_),_="",v.length==c&&(h.push(v),v=[]));console.log(h[0][0]);var m={dataList:[]};for(i=0;i<h.length;i++)0==i?m.header=h[i]:m.dataList.push(h[i]);var w=0,y="",C=0,D="",line=h[0][0].split(",");for(i=0;i<line.length;i++)"適用終了日"==line[i]&&(w=i),D+=line[i],i<line.length-1?D+=",":D+="\n";y+=D;for(i=1;i<h.length;i++){if(D="",""==(line=h[i][0].split(","))[w]){for(var j=0;j<line.length;j++){line[j].split("\n").length>1?D+='"'+line[j]+'"':D+=line[j],j<line.length-1?D+=",":D+="\n"}C++}y+=D}console.log(y);var E=t.convert(function(t){var i,e=[],n=t.length;for(i=0;i<n;i++)e.push(t.charCodeAt(i));return e}(y),"SJIS","UNICODE"),S=new Uint8Array(E);r.fileinfo={filename:e.name,datalength:h.length-1,corectedlength:C},r.newdata=S,console.log(r.fileinfo),r.filestatus="Standby"}},fileDL:function(){var t=new Blob([this.newdata],{type:"text/plan"}),link=document.createElement("a");link.href=URL.createObjectURL(t),link.download="corrected_"+this.fileinfo.filename,link.click()}}}),r=(n(275),n(34)),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("h1",[t._v("CSV preconverter")]),t._v(" "),n("FileUp",{on:{"file-object":function(e){return t.fileObject(e,t.files)}}}),t._v(" "),n("DataCount",{attrs:{fileinfo:t.fileinfo}}),t._v(" "),n("div",{staticClass:"file_dl"},[n("button",{staticClass:"btn btn_dl",attrs:{type:"button"},on:{click:t.fileDL}},[t._v("Step2.整形済みCSVファイルをダウンロードする")])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FileUp:n(227).default,DataCount:n(228).default})}}]);